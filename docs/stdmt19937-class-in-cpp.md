# STD::mt 19937 c++ 中的 Class

> 原文:[https://www.geeksforgeeks.org/stdmt19937-class-in-cpp/](https://www.geeksforgeeks.org/stdmt19937-class-in-cpp/)

**std::mt19937** (因为是 C++ 11)类是一个非常高效的伪随机数生成器，在随机头文件中定义。它使用著名且流行的算法 Mersenne twister 算法产生 32 位伪随机数。std::mt19937 类基本上是 std::mersenne_twister_engine 类的一种类型。

```cpp
typedef mersenne_twister_engine<uint_fast32_t,
 32,624,397,31,0x9908b0df,11,0xffffffff,7,0x9d2c5680,15,0xefc60000,18,1812433253>
 mt19937;
```

**语法:**

```cpp
mt19937 mt1(seed_value);
```

这里 mt1 是 mt19937 类的一个实例，它需要一个种子值来生成整个序列。

### **名称的意义 mt19937**

mt19937 代表 mersenne twister，长周期为 2<sup>19937</sup>–1，这意味着 mt19937 产生一个 32 位整数序列，该序列仅在生成 2<sup>19937</sup>–1 个数字后重复。

### 【mt19937 和 rand() & srand()的相似之处:

std::mt19937 做两件事–

*   当 std::mt19937 对象被实例化时，它接受一个用于生成种子值的参数(如 srand())。
*   通过使用运算符()，它生成一个随机数(类似 rand())。

下面是演示相似之处的示例:

## C++

```cpp
// C++ program for demonstrating 
// similaritites
#include <ctime>
#include <iostream>
#include <random>
using namespace std;

int main()
{
  // Initializing the sequence 
  // with a seed value
  // similar to srand()
  mt19937 mt(time(nullptr)); 

  // Printing a random number
  // similar to rand()
  cout << mt() << '\n'; 
  return 0;
}
```

**Output**

```cpp
3529725061

```

作为 std::mersenne_twister_engine 类的一种类型，它具有与 mersenne_twister_engine 相同的成员函数。以下是一些重要成员职能的列表–

**1。(构造函数):**构造 mt19937 对象。它要么接受结果类型的种子值，要么接受种子序列对象(类似于 srand()函数)。

**示例:**

## C++

```cpp
// C++ program to implement 
// the above concept

// This header file is 
// for time
#include <ctime> 
#include <iostream>
#include <random>
using namespace std;

int main()
{
  // Using the constructor to
  // initialize with a seed value
  mt19937 mt(time(nullptr)); 

  // Operator() is used to 
  // generate random numbers
  cout << mt() << '\n';
  return 0;
}
```

**Output**

```cpp
3529725061
```

**2。min():** 返回运算符()可以返回的最小值(为零)。

**示例:**

## C++

```cpp
// C++ program for the 
// min()
#include <ctime>
#include <iostream>
#include <random>
using namespace std;

// Driver code
int main()
{
  // Initializing mt19937
  // object
  mt19937 mt(time(nullptr));

  // Prints the minimum value 
  // which is 0
  cout << "the minimum integer it can generate is " << 
           mt.min() << endl; 
  return 0;
}
```

**Output**

```cpp
the minimum integer it can generate is 0
```

**3。max():** 返回运算符()可以返回的最大值(即 2<sup>32</sup>–1 = 4294967295)

**示例:**

## C++

```cpp
// C++ program to demonstrate 
// max()
#include <ctime>
#include <iostream>
#include <random>
using namespace std;

// Driver code
int main()
{
  // Initializing mt19937
  // object
  mt19937 mt(time(nullptr)); 

  // Prints the maximum value
  // which is 4294967295
  cout << "mt19937 can generate random numbers upto " << 
           mt.max() << endl; 
  return 0;
}
```

**Output**

```cpp
mt19937 can generate random numbers upto 4294967295
```

**4。seed():** 通过获取结果类型的种子值或获取种子序列对象来重新初始化对象的种子值。

**示例:**

## C++

```cpp
// C++ program to demonstrate
// seed()
#include <iostream>
#include <random>
using namespace std;

// Driver code
int main()
{
  // Defining the 
  // mt19937 object
  mt19937 mt; 

  // Initializing a random 
  // sequence with a seed value
  mt.seed(45218965); 

  cout << "some random numbers generated by mt19937 are:" << 
           endl;

  for (int i = 5; i > 0; i--) 
  {
    cout << mt() << ' ';
  }
  return 0;
}
```

**Output**

```cpp
some random numbers generated by mt19937 are:
3334444225 240363925 3350157104 146869560 639267854
```

**5。运算符():**它生成伪随机整数。(类似于 rand()函数)。

**示例:**

## C++

```cpp
// C++ program to demonstrate
// operator()
#include <ctime>
#include <iostream>
#include <random>
using namespace std;

// Driver code
int main()
{
  // Initializing mt19937
  // object
  mt19937 mt(time(nullptr));

  for (int i = 0; i < 5; i++) 
  {
    // operator() is used to
    // generate random numbers
    cout << mt() << ' '; 
  }
  return 0;
}
```

**Output**

```cpp
3529725061 3019704141 2006641117 725527349 3631905871
```

还有非成员函数重载来处理 std::mt19937 对象。这些是–

*   **运算符<<()**–这是重载的，这样我们就可以直接将 mt19937 对象生成的值打印到输出流中。
*   **运算符>>()**–用于从输入中提取种子值。

这里有一个简单的例子，通过从用户那里获取一个种子值来生成一个伪随机数

**使用运算符< <()和运算符> > () :**

**示例:**

## C++

```cpp
// C++ program to demonstrate 
// operator>>() and <<operator()
#include <ctime>
#include <iostream>
#include <random>
using namespace std;

// Driver code
int main()
{
  mt19937 mt;
  cout << "enter a integer to begin" << 
           endl;

  // operator>>() is used to get 
  // a seed value from the user
  cin >> mt; 

  // <<operator() is used to print 
  // the random integer
  cout << "a random number " << 
           mt() << " is generated";

  return 0;
}
```

**Output**

```cpp
enter a integer to begin
a random number 3499211612 is generated
```

### **为什么用 mt19937 代替 rand()？**

虽然 rand()函数可以在很小的范围内使用，但是它对于生成像随机数这样的真实世界来说效率很低。细心的人可以观察到 rand()生成的随机数的重复，风险很大。鉴于 std::mt19937 具有以下优势–

1.  与兰特相比，它的周期非常长()。这需要更长的时间。如果默森扭转器的一个实现可以每秒生成 1，000，000，000(10 亿)个伪随机数，那么一个生成伪随机数的程序将需要运行大约 1.3684 × 105，985 年来重复这个随机序列。因此，可以有把握地假设观察者永远猜不到这个数字。
2.  许多随机数发生器可以用不同的种子值同时启动。这里有一个例子

## C++

```cpp
// C++ program to demonstrate
// above approach
#include <iostream>
#include <random>
using namespace std;

// Driver code
int main()
{
  mt19937 mt1(10000);
  mt19937 mt2(100000);

  cout << mt1() << endl;
  cout << mt2() << endl;
  return 0;
}
```

**Output**

```cpp
2342776460
1235064505

```